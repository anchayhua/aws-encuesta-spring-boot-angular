package com.devglan.service.impl;

import java.util.ArrayList;
import java.util.List;

import org.springframework.beans.factory.annotation.Autowired;
import org.springframework.stereotype.Service;

import com.devglan.dao.EncuestaDao;
import com.devglan.model.Encuesta;
import com.devglan.model.EncuestaDto;
import com.devglan.model.User;
import com.devglan.service.EncuestaService;

@Service(value = "encuestaService")
public class EncuestaServiceImpl implements EncuestaService {

	@Autowired
	private EncuestaDao encuestaDao;

	public List<Encuesta> findAll() {
		List<Encuesta> list = new ArrayList<>();
		encuestaDao.findAll().iterator().forEachRemaining(list::add);
		return list;
	}

	@Override
	public User save(EncuestaDto encuestaDto) {
		User newUser = new User();
		newUser.setUsername(user.getUsername());
		newUser.setFirstName(user.getFirstName());
		newUser.setLastName(user.getLastName());
		newUser.setPassword(bcryptEncoder.encode(user.getPassword()));
		newUser.setAge(user.getAge());
		newUser.setSalary(user.getSalary());
		return userDao.save(newUser);
	}
}
